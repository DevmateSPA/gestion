<Page x:Class="Gestion.presentation.views.pages.UsuariosPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Usuarios">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Buscador -->
            <RowDefinition Height="*"/>    <!-- Tabla -->
            <RowDefinition Height="Auto"/> <!-- Botones -->
        </Grid.RowDefinitions>

        <!-- Buscador -->
        <StackPanel Orientation="Horizontal"
                    Grid.Row="0"
                    Margin="0,0,0,8">
            <TextBlock Text="Buscar:"
                       VerticalAlignment="Center"
                       Margin="0,0,5,0"/>
            <TextBox x:Name="txtBuscar"
                     Width="200"
                     Height="25"/>
        </StackPanel>

        <!-- DataGrid -->
        <DataGrid x:Name="dgUsuarios"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  SelectionMode="Single"
                  ItemsSource="{Binding EntidadesView}"
                  FontSize="16"
                  IsReadOnly="True"
                  MouseDoubleClick="DataGrid_MouseDoubleClick"
                  PreviewKeyDown="dgUsuarios_PreviewKeyDown">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Nombre"
                                    Binding="{Binding Nombre}"
                                    Width="*"/>

                <DataGridTextColumn Header="Clave"
                                    Binding="{Binding Clave}"
                                    Width="*"/>

                <DataGridComboBoxColumn Header="Tipo"
                                        SelectedItemBinding="{Binding Tipo}"
                                        Width="*">
                    <DataGridComboBoxColumn.ItemsSource>
                        <x:Array Type="sys:String"
                                 xmlns:sys="clr-namespace:System;assembly=mscorlib">
                            <sys:String>admin</sys:String>
                            <sys:String>usuario</sys:String>
                        </x:Array>
                    </DataGridComboBoxColumn.ItemsSource>
                </DataGridComboBoxColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Botones -->
        <StackPanel Orientation="Horizontal"
                    Grid.Row="2"
                    HorizontalAlignment="Center"
                    Margin="0,8,0,0">
            <Button Width="150" Height="50"
                    Content="Agregar (Ins)"
                    Click="BtnAgregar_Click"
                    Margin="5"/>

            <Button Width="150" Height="50"
                    Content="Eliminar (Del)"
                    Click="BtnEliminar_Click"
                    Margin="5"/>

            <Button Width="150" Height="50"
                    Content="Editar (Enter)"
                    Click="BtnEditar_Click"
                    Margin="5"/>

            <Button Width="150" Height="50"
                    Content="Buscar (F2)"
                    Click="BtnBuscar_Click"
                    Margin="5"/>
        </StackPanel>

    </Grid>
</Page>
