<Window x:Class="Gestion.presentation.views.pages.OrdenTrabajoDetallePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:utils="clr-namespace:Gestion.presentation.views.util"
    Title="Orden de Trabajo"
    Focusable="True">

    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="Margin" Value="0,5,0,5"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="FontSize" Value="20"/>
        </Style>
        <utils:RadioEqualsConverter x:Key="RadioEqualsConverter"/>
    </Window.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20" Orientation="Vertical">
            <!-- PRIMER PISO: Folio, Fecha, RUT -->
            <GroupBox Header="Datos Principales" Margin="0 0 0 15">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/> <!-- T칤tulos -->
                        <RowDefinition Height="Auto"/> <!-- Inputs -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <!-- TITULOS (Margin=0 para evitar corrimiento por estilo global) -->
                    <TextBlock Text="Folio" Grid.Column="0" Grid.Row="0" Margin="0"/>
                    <TextBlock Text="Fecha" Grid.Column="1" Grid.Row="0" Margin="0"/>
                    <TextBlock Text="Rut Cliente" Grid.Column="2" Grid.Row="0" Margin="0"/>
                    <!-- INPUTS -->
                    <TextBox Grid.Column="0" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Folio}" />
                    <TextBox Grid.Column="1" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Fecha}" />
                    <TextBox Grid.Column="2" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding RutCliente}" />
                </Grid>
            </GroupBox>
            <!-- SEGUNDO PISO: Trabajo (ocupa los 3 espacios) -->
            <GroupBox Header="Trabajo" Margin="0 0 0 15">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/> <!-- T칤tulo -->
                        <RowDefinition Height="Auto"/> <!-- Input -->
                    </Grid.RowDefinitions>
                    <TextBlock Text="Trabajo" Grid.Row="0"/>
                    <TextBox Grid.Row="1" Grid.ColumnSpan="3" Height="35" Text="{Binding Descripcion}" />
                </Grid>
            </GroupBox>
            <!-- TERCER PISO: Cantidad, Total Impresiones, Folio del Cliente -->
            <GroupBox Header="Datos de Producci칩n" Margin="0 0 0 15">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/> <!-- T칤tulos -->
                        <RowDefinition Height="Auto"/> <!-- Inputs -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <!-- TITULOS -->
                    <TextBlock Text="Cantidad" Grid.Column="0" Grid.Row="0"/>
                    <TextBlock Text="Total impresi칩n" Grid.Column="1" Grid.Row="0"/>
                    <TextBlock Text="Folios desde" Grid.Column="2" Grid.Row="0"/>
                    <TextBlock Text="Folios hasta" Grid.Column="3" Grid.Row="0"/>
                    <!-- INPUTS -->
                    <TextBox Grid.Column="0" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Cantidad}" />
                    <TextBox Grid.Column="1" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding TotalImpresion}" />
                    <TextBox Grid.Column="2" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding FolioDesde}" />
                    <TextBox Grid.Column="3" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding FolioHasta}" />
                </Grid>
            </GroupBox>
            <!-- CUARTO PISO: Cortar tama침o, De, Por -->
            <GroupBox Header="Corte" Margin="0 0 0 15">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>   <!-- Row 0: T칤tulos -->
                        <RowDefinition Height="Auto"/>   <!-- Row 1: Inputs -->
                    </Grid.RowDefinitions>
                    <!-- T칤tulos -->
                    <TextBlock Text="Tama침o a cortar" Grid.Column="0" Grid.Row="0" FontSize="20"/>
                    <TextBlock Text="Cortar Tama침o N??" Grid.Column="1" Grid.Row="0"/>
                    <TextBlock Text="Tama침o Largo" Grid.Column="2" Grid.Row="0"/>
                    <!-- Inputs (fila correcta) -->
                    <TextBox Grid.Column="0" Grid.Row="1" Height="35" Margin="0,0,10,0" Text="{Binding CortarTamanio}" />
                    <TextBox Grid.Column="1" Grid.Row="1" Height="35" Margin="0,0,10,0" Text="{Binding CortarTamanion}" />
                    <TextBox Grid.Column="2" Grid.Row="1" Height="35" Margin="0,0,10,0" Text="{Binding CortarTamanioLargo}" />
                </Grid>
            </GroupBox>
            <!-- QUINTO PISO: Montar, Moldes x Tama침o, Tama침o Final (ancho x alto) -->
            <GroupBox Header="Montaje y Tama침os" Margin="0 0 0 15">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>   <!-- fila t칤tulos -->
                        <RowDefinition Height="Auto"/>   <!-- fila inputs -->
                    </Grid.RowDefinitions>
                    <!-- 游댳 T칤tulos -->
                    <TextBlock Text="Montar" Grid.Column="0" Grid.Row="0"/>
                    <TextBlock Text="Moldes x Tam" Grid.Column="1" Grid.Row="0"/>
                    <TextBlock Text="Tama침os" Grid.Column="2" Grid.Row="0"/>
                    <!-- 游댳 Inputs columna 1 -->
                    <TextBox Grid.Column="0" Grid.Row="1" Margin="0 4 5 0"  Text="{Binding Montar}" />
                    <!-- 游댳 Inputs columna 2 -->
                    <TextBox Grid.Column="1" Grid.Row="1" Margin="5 4 5 0" Text="{Binding MoldeTamanio}" />
                    <!-- 游댳 Columna 3: Ancho / Alto bien ordenado -->
                    <Grid Grid.Column="2" Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Ancho" Grid.Column="0" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" Margin="5 0" Text="{Binding TamanioFinalAncho}" />
                        <TextBlock Text="x" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <!-- Alto -->
                        <TextBlock Text="Alto" Grid.Column="3" VerticalAlignment="Center" Margin="5 0"/>
                        <TextBox Grid.Column="4" Margin="5 0" Text="{Binding TamanioFinalLargo}" />
                    </Grid>
                </Grid>
            </GroupBox>
            <!-- SEXTO PISO: Cliente proporciona -->
            <GroupBox Header="Cliente Proporciona" Margin="0 0 0 15">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <CheckBox Content="Pel칤culas" FontSize="20" Margin="0 0 100 0" IsChecked="{Binding ClienteProporcionaPelicula, Mode=TwoWay}" />
                        <CheckBox Content="Planchas" FontSize="20" Margin="0 0 100 0" IsChecked="{Binding ClienteProporcionaPlancha, Mode=TwoWay}" />
                        <CheckBox Content="Papel" FontSize="20" IsChecked="{Binding ClienteProporcionaPapel, Mode=TwoWay}" />
                    </StackPanel>
                </StackPanel>
            </GroupBox>
            <!-- S칄PTIMO PISO: Tipo de impresi칩n -->
            <GroupBox Header="Tipo de Impresi칩n" Margin="0 0 0 15">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <RadioButton 
                            Content="Solo tiro"
                            FontSize="20"
                            Margin="0 0 100 0"
                            GroupName="TipoImpresion"
                            Tag="1"
                            IsChecked="{Binding TipoImpresion, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=1}"/>
                        <RadioButton 
                            Content="T/R M.P."
                            FontSize="20"
                            Margin="0 0 100 0"
                            GroupName="TipoImpresion"
                            Tag="2"
                            IsChecked="{Binding TipoImpresion, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=2}"/>
                        <RadioButton 
                            Content="T/R P.D."
                            FontSize="20"
                            Margin="0 0 100 0"
                            GroupName="TipoImpresion"
                            Tag="3"
                            IsChecked="{Binding TipoImpresion, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=3}"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>
            <!-- OCTAVO PISO: M치quinas -->
            <GroupBox Header="M치quinas" Margin="0 0 0 15">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/> <!-- T칤tulos -->
                        <RowDefinition Height="Auto"/> <!-- Inputs -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <!-- TITULOS -->
                    <TextBlock Text="M치quina 1" Grid.Column="0" Grid.Row="0"/>
                    <TextBlock Text="M치quina 2" Grid.Column="1" Grid.Row="0"/>
                    <TextBlock Text="Pin" Grid.Column="2" Grid.Row="0"/>
                    <TextBlock Text="NVA" Grid.Column="3" Grid.Row="0"/>
                    <TextBlock Text="US" Grid.Column="4" Grid.Row="0"/>
                    <TextBlock Text="CTP NVA" Grid.Column="5" Grid.Row="0"/>
                    <TextBlock Text="U" Grid.Column="6" Grid.Row="0"/>
                    <!-- INPUTS -->
                    <TextBox Grid.Column="0" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Maquina1}" />
                    <TextBox Grid.Column="1" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Maquina2}" />
                    <TextBox Grid.Column="2" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Pin}" />
                    <TextBox Grid.Column="3" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Nva}" />
                    <TextBox Grid.Column="4" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding Us}" />
                    <TextBox Grid.Column="5" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding CtpNva}" />
                    <TextBox Grid.Column="6" Grid.Row="1" Margin="0 0 10 0" Height="35" Text="{Binding U}" />
                </Grid>
            </GroupBox>
            <!-- TABLA: Tipo Papel -->
            <GroupBox Header="Tipo de Papel" Margin="0 0 0 15">
                <DataGrid AutoGenerateColumns="False" Height="220" Margin="10">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Tipo de Papel" Width="*" Binding="{Binding Tipo}"/>
                        <DataGridTextColumn Header="Cantidad" Width="80" Binding="{Binding Cantidad}"/>
                        <DataGridTextColumn Header="Sobras" Width="80" Binding="{Binding Sobras}"/>
                        <DataGridTextColumn Header="Total" Width="80" Binding="{Binding Total}"/>
                        <DataGridTextColumn Header="Tama침o C.Plie" Width="150" Binding="{Binding TamPliegos}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>
            <GroupBox Header="Sobres" Margin="0 0 0 15">
                <StackPanel Orientation="Horizontal" Margin="10">
                    <RadioButton Content="Cte."
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sobres"
                                Tag="1"
                                IsChecked="{Binding Sobres,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=1}"/>
                    <RadioButton Content="Amer."
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sobres"
                                Tag="2"
                                IsChecked="{Binding Sobres,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=2}"/>
                    <RadioButton Content="Amer. Especial"
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sobres"
                                Tag="3"
                                IsChecked="{Binding Sobres,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=3}"/>
                    <RadioButton Content="1/2 Oficio"
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sobres"
                                Tag="4"
                                IsChecked="{Binding Sobres,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=4}"/>
                    <RadioButton Content="Oficio"
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sobres"
                                Tag="5"
                                IsChecked="{Binding Sobres,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=5}"/>
                    <RadioButton Content="Otro"
                                FontSize="20"
                                GroupName="Sobres"
                                Tag="6"
                                IsChecked="{Binding Sobres,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=6}"/>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Sacos" Margin="0 0 0 15">
                <StackPanel Margin="10" Orientation="Horizontal">
                    <RadioButton Content="Amer."
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sacos"
                                Tag="1"
                                IsChecked="{Binding Sacos,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=1}"/>
                    <RadioButton Content="Amer. Especial"
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sacos"
                                Tag="2"
                                IsChecked="{Binding Sacos,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=2}"/>
                    <RadioButton Content="1/2 Oficio"
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sacos"
                                Tag="3"
                                IsChecked="{Binding Sacos,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=3}"/>
                    <RadioButton Content="Oficio"
                                FontSize="20"
                                Margin="0 0 20 0"
                                GroupName="Sacos"
                                Tag="4"
                                IsChecked="{Binding Sacos,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=4}"/>
                    <RadioButton Content="Otro"
                                FontSize="20"
                                GroupName="Sacos"
                                Tag="5"
                                IsChecked="{Binding Sacos,
                                                    Converter={StaticResource RadioEqualsConverter},
                                                    ConverterParameter=5}"/>

                </StackPanel>
            </GroupBox>
            <GroupBox Header="Tintas" Margin="0 0 0 15">
                <StackPanel Margin="10" Orientation="Vertical">
                    <!-- Tinta 1 -->
                    <StackPanel Orientation="Horizontal" Margin="0 5">
                        <RadioButton Content="Tricrom칤a"
                                    FontSize="20"
                                    Margin="0 0 20 0"
                                    GroupName="Tintas1"
                                    Tag="1"
                                    IsChecked="{Binding Tintas1,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=1}"/>
                        <RadioButton Content="Pantone"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas1"
                                    Tag="2"
                                    IsChecked="{Binding Tintas1,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=2}"/>
                        <RadioButton Content="S/Muestra"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas1"
                                    Tag="3"
                                    IsChecked="{Binding Tintas1,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=3}"/>
                    </StackPanel>
                    <!-- Tinta 2 -->
                    <StackPanel Orientation="Horizontal" Margin="0 5">
                        <RadioButton Content="Tricrom칤a"
                                    FontSize="20"
                                    Margin="0 0 20 0"
                                    GroupName="Tintas2"
                                    Tag="1"
                                    IsChecked="{Binding Tintas2,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=1}"/>
                        <RadioButton Content="Pantone"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas2"
                                    Tag="2"
                                    IsChecked="{Binding Tintas2,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=2}"/>
                        <RadioButton Content="S/Muestra"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas2"
                                    Tag="3"
                                    IsChecked="{Binding Tintas2,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=3}"/>
                    </StackPanel>
                    <!-- Tinta 3 -->
                    <StackPanel Orientation="Horizontal" Margin="0 5">
                        <RadioButton Content="Tricrom칤a"
                                    FontSize="20"
                                    Margin="0 0 20 0"
                                    GroupName="Tintas3"
                                    Tag="1"
                                    IsChecked="{Binding Tintas3,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=1}"/>
                        <RadioButton Content="Pantone"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas3"
                                    Tag="2"
                                    IsChecked="{Binding Tintas3,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=2}"/>
                        <RadioButton Content="S/Muestra"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas3"
                                    Tag="3"
                                    IsChecked="{Binding Tintas3,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=3}"/>
                    </StackPanel>
                    <!-- Tinta 4 -->
                    <StackPanel Orientation="Horizontal" Margin="0 5">
                        <RadioButton Content="Tricrom칤a"
                                    FontSize="20"
                                    Margin="0 0 20 0"
                                    GroupName="Tintas4"
                                    Tag="1"
                                    IsChecked="{Binding Tintas4,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=1}"/>
                        <RadioButton Content="Pantone"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas4"
                                    Tag="2"
                                    IsChecked="{Binding Tintas4,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=2}"/>
                        <RadioButton Content="S/Muestra"
                                    FontSize="20"
                                    Margin="20 0"
                                    GroupName="Tintas4"
                                    Tag="3"
                                    IsChecked="{Binding Tintas4,
                                                        Converter={StaticResource RadioEqualsConverter},
                                                        ConverterParameter=3}"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</Window>
