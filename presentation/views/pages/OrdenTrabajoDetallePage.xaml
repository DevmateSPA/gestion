<Window x:Class="Gestion.presentation.views.pages.OrdenTrabajoDetallePage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:utils="clr-namespace:Gestion.presentation.views.util"
        Title="Orden de Trabajo"
        Width="1100" Height="900"
        ResizeMode="CanResize"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="Margin" Value="0,5,0,3"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Margin" Value="0 0 10 0"/>
        </Style>

        <utils:RadioEqualsConverter x:Key="RadioEqualsConverter"/>
    </Window.Resources>

    <DockPanel LastChildFill="True" x:Name="MainGrid">

        <!-- BOTONES INFERIORES FIJOS -->
        <StackPanel DockPanel.Dock="Bottom"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="20">
            <Button Content="Guardar"
                    Width="140" Height="40"
                    Margin="0 0 10 0"
                    Click="BtnGuardar_Click" />
            <Button Content="Cancelar"
                    Width="140" Height="40"
                    Click="BtnCancelar_Click" />
        </StackPanel>

        <!-- CONTENIDO CON SCROLL -->
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20" Orientation="Vertical">

                <!-- DATOS PRINCIPALES -->
                <GroupBox Header="Datos Principales" Margin="0 0 0 15">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Folio"/>
                        <TextBlock Text="Fecha" Grid.Column="1"/>
                        <TextBlock Text="Rut Cliente" Grid.Column="2"/>

                        <TextBox Text="{Binding Folio}" Grid.Row="1" Tag="Folio"/>
                        <TextBox Text="{Binding Fecha}" Grid.Row="1" Grid.Column="1" Tag="Fecha"/>
                        <TextBox Text="{Binding RutCliente}" Grid.Row="1" Grid.Column="2" Tag="RutCliente"/>
                    </Grid>
                </GroupBox>

                <!-- TRABAJO -->
                <GroupBox Header="Trabajo" Margin="0 0 0 15">
                    <StackPanel Margin="10">
                        <TextBlock Text="Descripción del trabajo"/>
                        <TextBox Text="{Binding Descripcion}" Height="35" Tag="Descripcion" />
                    </StackPanel>
                </GroupBox>

                <!-- PRODUCCIÓN -->
                <GroupBox Header="Datos de Producción" Margin="0 0 0 15">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Cantidad"/>
                        <TextBlock Text="Total impresión" Grid.Column="1"/>
                        <TextBlock Text="Folio desde" Grid.Column="2"/>
                        <TextBlock Text="Folio hasta" Grid.Column="3"/>

                        <TextBox Text="{Binding Cantidad}" Grid.Row="1" Tag="Cantidad" />
                        <TextBox Text="{Binding TotalImpresion}" Grid.Row="1" Grid.Column="1" Tag="TotalImpresion" />
                        <TextBox Text="{Binding FolioDesde}" Grid.Row="1" Grid.Column="2" Tag="FolioDesde" />
                        <TextBox Text="{Binding FolioHasta}" Grid.Row="1" Grid.Column="3" Tag="FolioHasta" />
                    </Grid>
                </GroupBox>

                <!-- CORTE -->
                <GroupBox Header="Corte" Margin="0 0 0 15">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Tamaño a cortar"/>
                        <TextBlock Text="Cortar Tamaño N°" Grid.Column="1"/>
                        <TextBlock Text="Tamaño Largo" Grid.Column="2"/>

                        <TextBox Text="{Binding CortarTamanio}" Grid.Row="1" Tag="CortarTamanio" />
                        <TextBox Text="{Binding CortarTamanion}" Grid.Row="1" Grid.Column="1" Tag="CortarTamanion" />
                        <TextBox Text="{Binding CortarTamanioLargo}" Grid.Row="1" Grid.Column="2" Tag="CortarTamanioLargo" />
                    </Grid>
                </GroupBox>

                <!-- MONTAJE -->
                <GroupBox Header="Montaje y Tamaños" Margin="0 0 0 15">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Montar"/>
                        <TextBlock Text="Moldes por tamaño" Grid.Column="1"/>
                        <TextBlock Text="Tamaño final (ancho x alto)" Grid.Column="2"/>

                        <TextBox Text="{Binding Montar}" Grid.Row="1" Tag="Montar" />
                        <TextBox Text="{Binding MoldeTamanio}" Grid.Row="1" Grid.Column="1" Tag="MoldeTamanio" />

                        <StackPanel Grid.Row="1" Grid.Column="2" Orientation="Horizontal">
                            <TextBox Width="60" Text="{Binding TamanioFinalAncho}" Tag="TamanioFinalAncho" />
                            <TextBlock Text="x" Margin="5 0"/>
                            <TextBox Width="60" Text="{Binding TamanioFinalLargo}" Tag="TamanioFinalLargo" />
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <!-- CLIENTE PROPORCIONA -->
                <GroupBox Header="Cliente Proporciona" Margin="0 0 0 15">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <CheckBox Content="Películas" IsChecked="{Binding ClienteProporcionaPelicula}"/>
                        <CheckBox Content="Planchas" Margin="20 0" IsChecked="{Binding ClienteProporcionaPlancha}"/>
                        <CheckBox Content="Papel" Margin="20 0" IsChecked="{Binding ClienteProporcionaPapel}"/>
                    </StackPanel>
                </GroupBox>

                <!-- TIPO DE IMPRESIÓN -->
                <GroupBox Header="Tipo de Impresión" Margin="0 0 0 15">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <RadioButton Content="Solo tiro"
                                     GroupName="TipoImpresion"
                                     Tag="1"
                                     IsChecked="{Binding TipoImpresion, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=1}"/>
                        <RadioButton Content="T/R M.P."
                                     GroupName="TipoImpresion"
                                     Tag="2"
                                     Margin="30 0"
                                     IsChecked="{Binding TipoImpresion, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=2}"/>
                        <RadioButton Content="T/R P.D."
                                     GroupName="TipoImpresion"
                                     Tag="3"
                                     Margin="30 0"
                                     IsChecked="{Binding TipoImpresion, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=3}"/>
                    </StackPanel>
                </GroupBox>

                <!-- MÁQUINAS -->
                <GroupBox Header="Máquinas" Margin="0 0 0 15">
                    <ScrollViewer HorizontalScrollBarVisibility="Auto">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="Maq. 1"/>
                            <TextBlock Text="Maq. 2" Grid.Column="1"/>
                            <TextBlock Text="Pin" Grid.Column="2"/>
                            <TextBlock Text="NVA" Grid.Column="3"/>
                            <TextBlock Text="US" Grid.Column="4"/>
                            <TextBlock Text="CTP NVA" Grid.Column="5"/>
                            <TextBlock Text="U" Grid.Column="6"/>

                            <TextBox Text="{Binding Maquina1}" Grid.Row="1" Tag="Maquina1" />
                            <TextBox Text="{Binding Maquina2}" Grid.Row="1" Grid.Column="1" Tag="Maquina2" />
                            <TextBox Text="{Binding Pin}" Grid.Row="1" Grid.Column="2" Tag="Pin" />
                            <TextBox Text="{Binding Nva}" Grid.Row="1" Grid.Column="3" Tag="Nva" />
                            <TextBox Text="{Binding Us}" Grid.Row="1" Grid.Column="4" Tag="Us" />
                            <TextBox Text="{Binding CtpNva}" Grid.Row="1" Grid.Column="5" Tag="CtpNva" />
                            <TextBox Text="{Binding U}" Grid.Row="1" Grid.Column="6" Tag="U" />
                        </Grid>
                    </ScrollViewer>
                </GroupBox>

                <!-- TABLA PAPEL -->
                <GroupBox Header="Tipo de Papel" Margin="0 0 0 15">
                    <DataGrid x:Name="dgDetalleOT"
                              ItemsSource="{Binding Detalles}"
                              Margin="10"
                              AutoGenerateColumns="False"
                              Height="220">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Tipo Papel" Binding="{Binding TipoPapel}" Width="*"/>
                            <DataGridTextColumn Header="Cantidad" Binding="{Binding Cantidad}" Width="80"/>
                            <DataGridTextColumn Header="Sobras" Binding="{Binding Sobr}" Width="80"/>
                            <DataGridTextColumn Header="Total" Binding="{Binding Total}" Width="80"/>
                            <DataGridTextColumn Header="Tamaño C.Plie" Binding="{Binding Tamanio}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </GroupBox>

                <!-- SOBRES -->
                <GroupBox Header="Sobres" Margin="0 0 0 15">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <RadioButton Content="Cte." GroupName="Sobres" Tag="1"
                                     IsChecked="{Binding Sobres, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=1}"/>
                        <RadioButton Content="Amer." GroupName="Sobres" Tag="2" Margin="20 0"
                                     IsChecked="{Binding Sobres, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=2}"/>
                        <RadioButton Content="Amer. Especial" GroupName="Sobres" Tag="3" Margin="20 0"
                                     IsChecked="{Binding Sobres, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=3}"/>
                        <RadioButton Content="1/2 Oficio" GroupName="Sobres" Tag="4" Margin="20 0"
                                     IsChecked="{Binding Sobres, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=4}"/>
                        <RadioButton Content="Oficio" GroupName="Sobres" Tag="5" Margin="20 0"
                                     IsChecked="{Binding Sobres, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=5}"/>
                        <RadioButton Content="Otro" GroupName="Sobres" Tag="6" Margin="20 0"
                                     IsChecked="{Binding Sobres, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=6}"/>
                    </StackPanel>
                </GroupBox>

                <!-- SACOS -->
                <GroupBox Header="Sacos" Margin="0 0 0 15">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <RadioButton Content="Amer." GroupName="Sacos" Tag="1"
                                     IsChecked="{Binding Sacos, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=1}"/>
                        <RadioButton Content="Amer. Especial" GroupName="Sacos" Tag="2" Margin="20 0"
                                     IsChecked="{Binding Sacos, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=2}"/>
                        <RadioButton Content="1/2 Oficio" GroupName="Sacos" Tag="3" Margin="20 0"
                                     IsChecked="{Binding Sacos, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=3}"/>
                        <RadioButton Content="Oficio" GroupName="Sacos" Tag="4" Margin="20 0"
                                     IsChecked="{Binding Sacos, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=4}"/>
                        <RadioButton Content="Otro" GroupName="Sacos" Tag="5" Margin="20 0"
                                     IsChecked="{Binding Sacos, Converter={StaticResource RadioEqualsConverter}, ConverterParameter=5}"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Window>